---
layout: post
title: Runtime changeable config in a multi instance architecture
date: '2014-08-01T10:09:00.002-07:00'
author: Christopher Batey
tags: 
modified_time: '2014-08-01T10:09:32.591-07:00'
blogger_id: tag:blogger.com,1999:blog-4161315644722406995.post-6662017782689110254
blogger_orig_url: https://www.blogger.com/comment.g?blogID=4161315644722406995&postID=6662017782689110254
---

So you have some kind of application, lets say a RESTful service for managing customer data and entitlements.<br /><br />You've made it stateless apart from its very scalable datastore.<br /><br />You're horizontally scaling it like a breeze.<br /><br />Then the requirement comes in to change its behaviour at runtime across all instances at roughly the same time.<br /><br />So what do you do?<br /><br /><ol><li>Put it in the datastore and poll?</li><li>Design a system that can push changes out to all the instances?</li></ol><div>Lets say you want to decide decide that later, in the mean time you want a fixed programming model that won't need to be changed if your configuration source changes.<br /><br />Apache Commons Config is an example of how you can do this. You can provide a Configuration class to the rest of your system, or wrap it in your own Configuration class if you want to only expose certain properties, and then change the source later.<br /><br />TODO<br />Validating config</div><div><br /></div><div><br /></div><div><br /></div>